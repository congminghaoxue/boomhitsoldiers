<!DOCTYPE html>
<html>
<head>
    <script src="js/jquery-1.11.1.js"></script>
    <script src="js/board.js"></script>
    <!--<script src="js/roles.js"></script>-->
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
<div id="topdiv">
    <div>
        <table id="table" align="center" style="margin-top:10px;">
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
    <br>

    <!--<div id="boom0" class="boom"></div>-->
    <!--<div id="boom1" class="boom"></div>-->
    <!--<button id="btn" onclick="initBoard()">RESTART</button>-->
    <!--p id="p">color:[]</p-->
    <!--p id="pp">1, 2</p-->
    <!--p id="ppp">2</p-->
</div>
</body>
<script>
    function addDiv(x, y) {
        var dv = document.createElement('div');
        dv.id = "div" + x + y;
        dv.className = "circle";
        document.getElementById("topdiv").appendChild(dv);
    }
    $(document).ready(function(){
            for(var x; x < 5; x++){
                for(var y; y < 5; y++){
                    addDiv(x, y);
                }
            }
        }
    );
</script>
<!--<script>-->
    <!--var windowWidth = $(window).width();-->
    <!--var windowHeigth = $(window).height();-->

    <!--var border = 10;-->
    <!--var padding = 50;-->
    <!--var boomWidth = 40;-->
    <!--var boomGrowup = 20;-->

    <!--var soldierWidth = 30;-->
    <!--var soldierGrowup = 10;-->

    <!--var tableMarginTop = 50;-->
    <!--var tableMarginLeft = (windowWidth / 2) - (padding * 4) - (border * 2.5);-->

    <!--var xLocations = new Array(new Array(5), new Array(5));-->
    <!--var yLocations = new Array(new Array(5), new Array(5));-->
    <!--for (var x = 0; x < 5; x++) {-->
        <!--xLocations[x] = new Array();-->
        <!--yLocations[x] = new Array();-->
        <!--for (var y = 0; y < 5; y++) {-->
            <!--xLocations[x][y] = tableMarginLeft + (border * (y + 0.5)) + (padding * y * 2);-->
            <!--yLocations[x][y] = tableMarginTop + (border * (x + 0.5)) + (padding * x * 2);-->
            <!--addDiv(x, y);-->
        <!--}-->
    <!--}-->

    <!--function addDiv(x, y) {-->
        <!--var dv = document.createElement('div');-->
        <!--dv.id = "div" + x + y;-->
        <!--dv.className = "circle";-->
        <!--document.getElementById("topdiv").appendChild(dv);-->
    <!--}-->
<!--</script>-->
<!--<script>-->
<!--var windowWidth = $(window).width();-->
<!--var windowHeigth = $(window).height();-->

<!--var border = 10;-->
<!--var padding = 50;-->
<!--var boomWidth = 40;-->
<!--var boomGrowup = 20;-->

<!--var soldierWidth = 30;-->
<!--var soldierGrowup = 10;-->

<!--var tableMarginTop = 50;-->
<!--var tableMarginLeft = (windowWidth / 2) - (padding * 4) - (border * 2.5);-->

<!--var xLocations = new Array(new Array(5), new Array(5));-->
<!--var yLocations = new Array(new Array(5), new Array(5));-->
<!--for (var x = 0; x < 5; x++) {-->
<!--xLocations[x] = new Array();-->
<!--yLocations[x] = new Array();-->
<!--for (var y = 0; y < 5; y++) {-->
<!--xLocations[x][y] = tableMarginLeft + (border * (y + 0.5)) + (padding * y * 2);-->
<!--yLocations[x][y] = tableMarginTop + (border * (x + 0.5)) + (padding * x * 2);-->
<!--addDiv(x, y);-->
<!--}-->
<!--}-->

<!--function addDiv(x, y) {-->
<!--var dv = document.createElement('div');-->
<!--dv.id = "div" + x + y;-->
<!--dv.className = "circle";-->
<!--document.getElementById("topdiv").appendChild(dv);-->
<!--}-->

<!--var clickFlag = 0;-->
<!--var turnFlag = 0;-->
<!--var lastX;-->
<!--var lastY-->
<!--var lastId;-->
<!--var lastBkgd;-->
<!--var stepTotal = 0;-->
<!--var soldierCnt = 15;-->

<!--$(document).ready(function () {-->
<!--initBoard();-->
<!--$("#table").css({"margin-top": tableMarginTop, "border": border, "padding": padding});-->
<!--document.getElementById("pp").innerHTML = windowWidth + ", " + windowHeigth;-->
<!--for (var x = 0; x < 5; x++) {-->
<!--for (var y = 0; y < 5; y++) {-->
<!--$("#div" + x + y).click(function () {-->
<!--clickChess(this);-->
<!--});-->
<!--}-->
<!--}-->
<!--});-->


<!--function setChess(id, width, height, left, tp, bkgd) {-->
<!--var dv = document.getElementById(id);-->
<!--dv.style.width = width + "px";-->
<!--dv.style.height = height + "px";-->
<!--dv.style.left = left + "px";-->
<!--dv.style.top = tp + "px";-->
<!--dv.style.background = bkgd;-->
<!--}-->

<!--function clickChess(ths) {-->
<!--var id = ths.id;-->
<!--var bkgd = ths.style.background;-->
<!--var xy = id.match(/(\d+)/g)[0];-->
<!--var x = xy[0];-->
<!--var y = xy[1];-->
<!--//document.getElementById("p").innerHTML = "[" + bkgd + "][" + id + "][" + x + "][" + y + "]";-->
<!--var z = lastX - lastY;-->
<!--if (turnFlag == 0) { // its boom's turn-->
<!--//document.getElementById("ppp").innerHTML = "[" + bkgd + "][" + id + "][" + x + "][" + y + "][" + z + "]";-->
<!--if (clickFlag == 0) { // no boom is clicked-->
<!--if (bkgd == "red") { // only boom can be clicked-->
<!--setChess(id, boomWidth + boomGrowup, boomWidth + boomGrowup, xLocations[x][y] - boomWidth / 2 - boomGrowup / 2, yLocations[x][y] - boomWidth / 2 - boomGrowup / 2, bkgd);-->
<!--backupLastClick(x, y, id, bkgd);-->
<!--clickFlag = 1;-->
<!--}-->
<!--}-->
<!--else { // any boom has been clicked-->
<!--if (id == lastId) { // boom return to original size-->
<!--setChess(id, boomWidth, boomWidth, xLocations[x][y] - boomWidth / 2, yLocations[x][y] - boomWidth / 2, bkgd);-->
<!--backupLastClick("", "", "", "");-->
<!--clickFlag = 0;-->
<!--}-->
<!--else if (bkgd == "red") { // another boom is clicked-->
<!--setChess(lastId, boomWidth, boomWidth, xLocations[lastX][lastY] - boomWidth / 2, yLocations[lastX][lastY] - boomWidth / 2, lastBkgd);-->
<!--setChess(id, boomWidth + boomGrowup, boomWidth + boomGrowup, xLocations[x][y] - boomWidth / 2 - boomGrowup / 2, yLocations[x][y] - boomWidth / 2 - boomGrowup / 2, bkgd);-->
<!--backupLastClick(x, y, id, bkgd);-->
<!--}-->
<!--else if (bkgd == "green") { // click soldier-->
<!--if ((lastY == y) && ((lastX - x == 2) || (x - lastX == 2))) {-->
<!--var xAdd1Tmp = (lastX * 1 + x * 1 ) / 2; // *1 is used to transfer it to number-->
<!--//document.getElementById("ppp").innerHTML = "[" + xAdd1Tmp + "][" + x + "][" + lastX + "]";-->
<!--var bkgdTmp = document.getElementById("div" + xAdd1Tmp + y).style.background;-->
<!--if (bkgdTmp == "") {-->
<!--setChess(lastId, soldierWidth, soldierWidth, xLocations[lastX][lastY] - soldierWidth / 2, yLocations[lastX][lastY] - soldierWidth / 2, "");-->
<!--setChess(id, boomWidth, boomWidth, xLocations[x][y] - boomWidth / 2, yLocations[x][y] - boomWidth / 2, lastBkgd);-->
<!--backupLastClick("", "", "", "");-->
<!--itsSoldierTurn("minusOne");-->
<!--}-->
<!--}-->
<!--else if ((lastX == x) && ((lastY - y == 2) || (y - lastY == 2))) {-->
<!--var yAdd1Tmp = (y * 1 + lastY * 1) / 2;-->
<!--var bkgdTmp = document.getElementById("div" + x + yAdd1Tmp).style.background;-->
<!--if (bkgdTmp == "") {-->
<!--setChess(lastId, soldierWidth, soldierWidth, xLocations[lastX][lastY] - soldierWidth / 2, yLocations[lastX][lastY] - soldierWidth / 2, "");-->
<!--setChess(id, boomWidth, boomWidth, xLocations[x][y] - boomWidth / 2, yLocations[x][y] - boomWidth / 2, lastBkgd);-->
<!--backupLastClick("", "", "", "");-->
<!--itsSoldierTurn("minusOne");-->
<!--}-->
<!--}-->
<!--}-->
<!--else { // move to free place-->
<!--if (((lastX - x == 1) && (lastY == y)) ||-->
<!--((x - lastX == 1) && (lastY == y)) ||-->
<!--((lastY - y == 1) && (lastX == x)) ||-->
<!--((y - lastY == 1) && (lastX == x))) {-->
<!--setChess(id, boomWidth, boomWidth, xLocations[x][y] - boomWidth / 2, yLocations[x][y] - boomWidth / 2, lastBkgd);-->
<!--setChess(lastId, soldierWidth, soldierWidth, xLocations[lastX][lastY] - soldierWidth / 2, yLocations[lastX][lastY] - soldierWidth / 2, "");-->
<!--backupLastClick("", "", "", "");-->
<!--itsSoldierTurn();-->
<!--}-->
<!--}-->
<!--}-->
<!--}-->
<!--else { // its soldier's turn-->
<!--if (clickFlag == 0) { // no soldier is clicked-->
<!--if (bkgd == "green") { // only soldier can be clicked-->
<!--setChess(id, soldierWidth + soldierGrowup, soldierWidth + soldierGrowup, xLocations[x][y] - soldierWidth / 2 - soldierGrowup / 2, yLocations[x][y] - soldierWidth / 2 - soldierGrowup / 2, bkgd);-->
<!--backupLastClick(x, y, id, bkgd);-->
<!--clickFlag = 1;-->
<!--}-->
<!--}-->
<!--else if (id == lastId) { // soldier return to original size-->
<!--setChess(id, soldierWidth, soldierWidth, xLocations[x][y] - soldierWidth / 2, yLocations[x][y] - soldierWidth / 2, bkgd);-->
<!--backupLastClick("", "", "", "");-->
<!--clickFlag = 0;-->
<!--}-->
<!--else if (bkgd == "green") { // another soldier is clicked-->
<!--setChess(id, soldierWidth + soldierGrowup, soldierWidth + soldierGrowup, xLocations[x][y] - soldierWidth / 2 - soldierGrowup / 2, yLocations[x][y] - soldierWidth / 2 - soldierGrowup / 2, bkgd);-->
<!--setChess(lastId, soldierWidth, soldierWidth, xLocations[lastX][lastY] - soldierWidth / 2, yLocations[lastX][lastY] - soldierWidth / 2, lastBkgd);-->
<!--backupLastClick(x, y, id, bkgd);-->
<!--}-->
<!--else if (bkgd == "") { // move to free place-->
<!--if (((lastX - x == 1) && (lastY == y)) ||-->
<!--((x - lastX == 1) && (lastY == y)) ||-->
<!--((lastY - y == 1) && (lastX == x)) ||-->
<!--((y - lastY == 1) && (lastX == x))) {-->
<!--setChess(id, soldierWidth, soldierWidth, xLocations[x][y] - soldierWidth / 2, yLocations[x][y] - soldierWidth / 2, lastBkgd);-->
<!--setChess(lastId, soldierWidth, soldierWidth, xLocations[lastX][lastY] - soldierWidth / 2, yLocations[lastX][lastY] - soldierWidth / 2, "");-->
<!--backupLastClick("", "", "", "");-->
<!--clickFlag = 0;-->
<!--turnFlag = 0;-->
<!--ifBoomLose();-->
<!--}-->
<!--}-->
<!--}-->
<!--}-->

<!--function backupLastClick(lx, ly, li, lb) {-->
<!--lastX = lx;-->
<!--lastY = ly;-->
<!--lastId = li;-->
<!--lastBkgd = lb;-->
<!--}-->

<!--function itsSoldierTurn(minusOne) {-->
<!--clickFlag = 0;-->
<!--turnFlag = 1;-->
<!--stepTotal++;-->
<!--if (minusOne == "minusOne") {-->
<!--soldierCnt = soldierCnt - 1;-->
<!--}-->
<!--if (soldierCnt == 0) {-->
<!--alert("Boom Win! Boom has instant " + stepTotal + " steps!");-->
<!--}-->
<!--}-->

<!--function ifBoomLose() {-->
<!--var lose = 0;-->
<!--for (var x = 0; x < 5; x++) {-->
<!--for (var y = 0; y < 5; y++) {-->
<!--var bkgd = document.getElementById("div" + x + y).style.background;-->
<!--if (bkgd == "red") {-->
<!--if (isSoldierHere(x, y - 1) &&-->
<!--isSoldierHere(x, y + 1) &&-->
<!--isSoldierHere(x - 1, y) &&-->
<!--isSoldierHere(x + 1, y)) {-->
<!--lose++;-->
<!--if (lose == 2) {-->
<!--alert("Boom Lost! Boom has instant " + stepTotal + " steps!");-->
<!--break;-->
<!--}-->
<!--}-->
<!--}-->
<!--}-->
<!--}-->
<!--}-->

<!--function isSoldierHere(x, y) {-->
<!--if ((x > -1) && (x < 5) && (y > -1) && (y < 5)) {-->
<!--var bkgd = document.getElementById("div" + x + y).style.background;-->
<!--if ((bkgd == "green") || (bkgd == "red")) {-->
<!--return true;-->
<!--}-->
<!--else {-->
<!--return false;-->
<!--}-->
<!--}-->
<!--else {-->
<!--return true;-->
<!--}-->
<!--}-->

<!--</script>-->

</html>
